
<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="robots" content="noindex, nofollow">
  <meta name="googlebot" content="noindex, nofollow">

  
  

  
  
  

  

  <script type="text/javascript" src="//code.jquery.com/jquery-1.9.1.js"></script>

  

  


  
   <!-- <link rel="stylesheet" type="text/css" href="/css/result-light.css"> -->
  

  

  <style type="text/css">
    
  </style>

  <title>JSON to Multiple drop down Select Options</title>

  
    




<script type='text/javascript'>

//<![CDATA[

$(window).load(function(){


$('.multi-field-wrapper').each(function () {
        var $wrapper = $('.multi-fields', this);
        var x = 1;
        $(".add-field", $(this)).click(function (e) {
            x++;
            $($wrapper).append('<div class="multi-field"><form id="dropdowns"><label>Country:</label><select id="country" class="country" name="country"><option value="000">-Select Country-</option></select><br /><label>State:</label><br/><select id="state" class="state" name="network"><option value="000">-Select State-</option></select><br /><label>City:</label><select id="model" class="model" name="model"><option value="000">-Select City-</option></select><br/></form><div/><br/><span class ="Totprice2"></span><br><table class="Purchaseprice"><tr class="rowprice"><td class="maintd">Price:</td><td class="price"></td></tr></table><a href="#" class="remove_field">Remove</a></div>');
        



	
	 
  

var myJson = {
    "country": [
        {
            "name": "United States",
            "id": "usa",
            "states": [
                {
                    "name": "State 1 USA",
                    "id": "usaState1",
                    "cities": [
                        {
                            "name": "City 1",
                            "id": "usaState1City1",
                            "area": 1234
                        },
                        {
                            "name": "City 2",
                            "id": "usaState1City2",
                            "area": "6789 sqkm"
                        }
                    ]
                },
                {
                    "name": "State 2 USA",
                    "id": "usaState2",
                    "cities": [
                        {
                            "name": "City 3",
                            "id": "usaState2City3",
                            "area": "0000 sqkm"
                        },
                        {
                            "name": "City 4",
                            "id": "usaState2City4",
                            "area": "1111 sqkm"
                        }
                    ]
                }
            ]
        },
        {
            "name": "Australia",
            "id": "aus",
            "states": [
                {
                    "name": "State 1 Australia",
                    "id": "ausState1",
                    "cities": [
                        {
                            "name": "City 5",
                            "id": "ausState1City5",
                            "area": "2222 sqkm"
                        },
                        {
                            "name": "City 6",
                            "id": "ausState1City6",
                            "area": "3333 sqkm"
                        }
                    ]
                },
                {
                    "name": "State 2 Australia",
                    "id": "ausState2",
                    "cities": [
                        {
                            "name": "City 7",
                            "id": "ausState2City7",
                            "area": "4444 sqkm"
                        },
                        {
                            "name": "City 8",
                            "id": "ausState2City8",
                            "area": "5555 sqkm"
                        }
                    ]
                }
            ]
        }
    ]
}



$.each(myJson.country, function (index, value) {
    $("#country".append('<option value="'+value.id+'">'+value.name+'</option>');
});

$("#country").on('change', function(){
    
    for(var i = 0; i < myJson.country.length; i++)
    {
      if(myJson.country[i].id == $(this).val())
      {
         $("#state").html('<option value="000">-Select State-</option>');
         $.each(myJson.country[i].states, function (index, value) {
            $("#state").append('<option value="'+value.id+'">'+value.name+'</option>');
        });
      }
    }
});


function getCities() {
    var cities = [];
    for(var i = 0; i < myJson.country.length; i++) {
      var country = myJson.country[i];
      for(var j = 0; j < country.states.length; j++) {
          var state = country.states[j];
          for (var k = 0; k < state.cities.length; k++) {
            var city = state.cities[k];
            cities.push({
                stateId: state.id,
                stateName: state.name,
                cityId: city.id,
                cityName: city.name,
                cityArea: city.area
            });
          }
      }
    }
    return cities;
}


$('.state').on('change', function(){
   
    var cities = getCities();
    $('.model').html('<option value="000">-Select State-</option>');
    var stateId = $(this).val();
   
    $.each(cities, function (index, value) {
      if (value.stateId == stateId) {
        $('.model').append('<option value="'+value.cityId +'">'+value.cityName+'</option>');
        
        
      }
      

    });
  });
  $('.model').on('change', function(){
           var cityId = $(this).val();
          $("h1").text($(this).val());
          var cities = getCities();
   
          $.each(cities, function (index, value) {
          if(value.cityId == cityId){
          $("h1").text(value.cityArea);
          document.getElementsByClassName('.price').innerHTML = value.cityArea;
           }   
          });
          });
     
	 
	 });

        $($wrapper).on("click", ".remove_field", function (e) { //user click on remove text
            e.preventDefault(); $(this).parent('div').remove(); x--;
        })
    });
			
   
});   
//]]> 

</script>

  
</head>

<body>
 <div class="multi-field-wrapper">
		  <button type="button" class="add-field" onclick="addmore()">Add Product</button>        
		  <div class="multi-fields">
		  <div class="multi-field">
		  <!--
          <form id="dropdowns" action="index.html">
			
			<label>Country:</label>
				<select id="country" class="country" name="country">
					<option value="000">-Select Country-</option>
				</select>
			
			<br />
			
			<label>State:</label>
				<select id="state" class="state" name="network">
					<option value="000">-Select State-</option>
				</select>
			
			<br />
			
			<label>City:</label>
				<select id="model" class="model" name="model">
					<option value="000">-Select City-</option>
				</select>
			
			<br /></form> -->
			</div><br /></div>
			</div>
      <form>
      
      <br/>	
      </form>
      
		<!--
    <table id="Purchaseprice">
        <tr id="rowprice">
            <td>Price:</td>
            <td id="price"></td>
        </tr>
    </table>
	-->
   
    <p id="sample"></p>
	
<h1></h1>
  
  

</body>

</html>

